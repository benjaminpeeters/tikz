\documentclass[12pt, border=0pt,crop=true,preview=false]{standalone}

% Packages needed
\usepackage{tikz}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage[english,french]{babel}
\usepackage[T1]{fontenc}

% Define custom colors 
\definecolor{myred}{RGB}{200,50,50}
\definecolor{myblue}{RGB}{50,100,200}
\definecolor{mygreen}{RGB}{50,150,80}
\definecolor{myorange}{RGB}{255,140,0}
\definecolor{mypurple}{RGB}{148,0,211}
\definecolor{mydarkred}{RGB}{139,0,0}
\definecolor{mylightblue}{RGB}{173,216,230}
\definecolor{mylightgreen}{RGB}{144,238,144}

\usetikzlibrary{patterns}
\usetikzlibrary{patterns.meta}
\usetikzlibrary{calc}
\usetikzlibrary{math}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{shapes.geometric}

\begin{document}

\centering
\begin{tikzpicture}[node distance=2cm, auto, 
    >=Stealth,
    scale=0.7,
    transform shape,
    font=\tiny]

    % Define new chronological timeline colors
    \definecolor{col_maintrigger}{RGB}{200,100,0}        % Purple for main triggers
    \definecolor{col_financialevents}{RGB}{0,100,180}     % Blue for sp events
    \definecolor{policyresponse}{RGB}{0,150,50}       % Green for policy responses
    \definecolor{politicalevent}{RGB}{200,100,0}      % Orange for political events in SP
    % \definecolor{geographic}{RGB}{200,100,0}          % Orange for sp crisis
    \definecolor{col_crisis}{RGB}{180,0,0}          % Red for SP crises
    \definecolor{phasebg1}{RGB}{240,240,255}          % Light blue background
    \definecolor{phasebg2}{RGB}{255,240,240}          % Light red background

    % Define styles for chronological event types
    \tikzset{
        main trigger/.style={
            diamond, align=center, 
            draw=col_maintrigger, fill=col_maintrigger!20,
            line width=1.5pt, text width=2.8cm,
            inner sep=-6pt,
            minimum height=0.8cm, rounded corners=2pt
        },
        sp event/.style={
            rectangle, align=center,
            draw=col_financialevents, fill=col_financialevents!20,
            line width=1.5pt, text width=2.8cm,
            inner sep=-6pt,
            minimum height=0.8cm, rounded corners=2pt
        },
        policy response/.style={
            rectangle, align=center,
            draw=policyresponse, fill=policyresponse!20,
            line width=1.2pt, text width=1.8cm,
            inner sep=-6pt,
            minimum height=0.2cm, rounded corners=2pt
        },
        sp crisis/.style={
            ellipse, align=center,
            draw=col_crisis, fill=col_crisis!15,
            line width=1pt, text width=2.2cm,
            inner sep=-2pt,
            minimum height=0.6cm
        }
    }

    % Background shading for phases (horizontal layout - extended with 2-unit intervals)
    \fill[phasebg1, opacity=0.3] (-17,-6) rectangle (-4,6);
    \fill[phasebg2, opacity=0.3] (-4,-6) rectangle (11,6);

    % Phase labels above timeline (horizontal layout)
    \node[anchor=south, font=\large\bfseries] at (-11,7) {
        PHASE 1: Volcker and Second Oil shocks
    };
    \node[anchor=south, font=\large\bfseries] at (5,7) {
        PHASE 2: Baker to Brady Plan
    };

    % Horizontal timeline axis (extended with 2-unit intervals)
    \draw[thick, color=gray] (-17,-4.5) -- (11,-4.5);
    
    % Year markers on horizontal timeline (equal intervals - 2 units per year)
    \foreach \y/\pos in {1979/-16, 1980/-14, 1981/-12, 1982/-10, 1983/-8, 1984/-6, 1985/-4, 1986/-2, 1987/0, 1988/2, 1989/4, 1990/6, 1991/8, 1992/10} {
        \draw[color=gray] (\pos,-4.7) -- (\pos,-4.3);
        \node[anchor=north, font=\tiny] at (\pos,-4.8) {\y};
    }

    % EXTERNAL SHOCKS (positioned chronologically with increased vertical spacing)
    \node[main trigger, text width=3.2cm] (volcker) at (-14.2,-2) {
        \textbf{Volcker Shock} \\
        Fed rates: 4\% → 20\% \\
        Oct 1979 - Jul 1981
    };
    
    \node[main trigger, text width=3.2cm] (oilshock2) at (-15.,2) {
        1979 \\
        \textbf{Second Oil Shock} \\
        Oil: \$15 → \$35/barrel \\
        ~
    };
    
    \node[main trigger] (counteroil) at (-3,0) {
            Dec 1985 \\
            \textbf{Counter Oil} \\
            \textbf{Shock} \\
            Oil price:\\ \$27 to \$10/barrel \\
        ~ 
    };


    \node[main trigger] (blackmonday) at (1,2) {
        October 1987 \\
        \textbf{Black Monday} \\
        accentuate\\ flight-to-quality \\
        ~ 
    };


    % FINANCIAL EVENTS (positioned chronologically with increased vertical spacing)
    \node[sp event] (mexicodefault) at (-11.5,0.5) {
        \textbf{Mexico Default} \\
        "Mexican Weekend" \\
        Aug 1982
    };
    
    \node[sp event] (debtcrisis) at (-8,3) {
        \textbf{Debt Crisis Spreads} \\
        109 restructurings \\
        1982-1989
    };

    
    \node[sp crisis] (hyperinflation) at (5,.5) {
        (1989-91) \\
        \textbf{Hyperinflation} \\
        Argentina: 5,000\% \\
        Brazil: 1,000\% 
    };

    % POLICY RESPONSES (positioned chronologically with increased vertical spacing)
    \node[policy response] (bakerplan) at (-4,5) {
        \textbf{Baker Plan} \\
        Growth-oriented strategy \\
        1985
    };
    
    \node[policy response] (bradyplan) at (4,5) {
        1989 \\
        \textbf{Brady Plan} \\
        Debt reduction\\scheme \\
    };
    
    \node[policy response] (structural) at (5,3) {
        1989-1992 \\
        \textbf{Structural} \\
        \textbf{Adjustments} \\
        Washington\\Consensus \\
        ~
    };

    % POLITICAL EVENTS (positioned chronologically with improved vertical spacing)
    \node[main trigger] (ussrcollapse) at (4,-2) {
        1989-1991 \\
        \textbf{USSR Collapse} \\
        Eastern European\\transition \\
        ~
    };

    \node[sp event, text width=3.8cm] (failedstabilization) at (-2,3) {
        ~ \\
        1985-1989 \\
        \textbf{Failed Stabilization Plans} \\
        International + Domestic \\ ~
    };

    % GEOGRAPHIC IMPACT (positioned by timing with improved vertical spacing)
    \node[sp crisis] (latam) at (-9,1) {
        \textbf{Latin America} \\
        Mexico, Brazil, Argentina \\
        Chile (1982-1985)
    };
    
    \node[sp crisis] (easteurope) at (-9,-3.5) {
        \textbf{Eastern Europe} \\
        Poland, Hungary \\
        (1981-1985)
    };
    
    \node[sp crisis] (asiafrica) at (-9,-1.5) {
        \textbf{Asia \& Africa} \\
        Philippines, Turkey \\
        Morocco (1982-1986)
    };
    
    \node[sp crisis] (oilexporters) at (-1,-2) {
        \textbf{Oil Exporters} \\
        Algeria, Venezuela \\
        Nigeria (1985-1989)
    };
    
    \node[sp crisis] (transition) at (6.5,-3.3) {
        \textbf{Transition Economies} \\
        Bulgaria, Romania \\
        Yugoslavia (1989-1994)
    };

    % SIMPLIFIED NETWORK-BASED INTERCONNECTIONS (reduced congestion)
    
    % Core causal chain: External shocks to sp events (primary transmission)
    \draw[->, thick, color=col_maintrigger] (volcker) -- (mexicodefault);
    \draw[->, thick, color=col_maintrigger] (oilshock2) -- (debtcrisis);
    
    % Financial events cascade
    \draw[->, thick, color=col_financialevents] (mexicodefault) to[bend left=15] (debtcrisis);
    \draw[->, thick, color=col_financialevents] (debtcrisis) to[bend left=10] (hyperinflation);
    
    % Policy responses (simplified to key relationships)
    \draw[->, thick, color=col_financialevents] (bakerplan) -- (failedstabilization);
    % \draw[->, thick, color=col_financialevents] (debtcrisis) -- (bradyplan);
    % \draw[->, thick, color=col_financialevents] (hyperinflation) -- (structural);
    
    % Key sp crisiss (most critical connections only)
    \draw[->, thick, color=col_maintrigger] (volcker) to[bend left=10] (latam);
    \draw[->, thick, color=col_maintrigger] (volcker) to[bend right=10] (easteurope);
    \draw[->, thick, color=col_maintrigger] (counteroil) -- (oilexporters);
    
    % Policy impact on regions (consolidated)
    % \draw[->, thick, color=policyresponse] (bradyplan) to[bend left=10] (latam);
    % \draw[->, thick, color=policyresponse] (structural) to[bend right=20] (asiafrica);
    
    % Political events (key connections)
    \draw[->, thick, color=politicalevent] (ussrcollapse) -- (transition);
    \draw[->, thick, color=politicalevent] (ussrcollapse) to[bend left=25] (structural);
    
    % Essential cross-regional contagion (reduced from 5 to 2 key flows)
    % \draw[->, dotted, thick, color=col_crisis] (latam) to[bend left=20] (asiafrica);
    % \draw[->, dotted, thick, color=col_crisis] (easteurope) to[bend left=30] (latam);
    % Updated legend - closer to timeline and non-overlapping arrows
    \begin{scope}[shift={(0,-6.5)}, xshift=0cm, yshift=0cm]
        % Event type legend - properly spaced horizontally
        \node[main trigger, text width=1.4cm, minimum height=0.4cm] at (-16,0) {\scriptsize Main\\External\\Triggers};
        
        \node[sp event, text width=1.4cm, minimum height=0.4cm] at (-13.5,0) {\scriptsize Financial\\Events};
        
        \node[policy response, text width=1.4cm, minimum height=0.4cm] at (-11,0) {\scriptsize Policy\\Responses};
        
        \node[sp crisis, text width=1.6cm, minimum height=0.4cm] at (-8.5,0) {\scriptsize Geographic\\Impact};
        
        % Arrow types legend - separated into two rows to avoid overlap
        \draw[->, thick, color=col_maintrigger] (-2,0.3) -- (-1.2,0.3);
        \node[anchor=west, font=\scriptsize] at (-1.1,0.3) {External Causation};
        
        \draw[->, thick, color=col_financialevents] (2,0.3) -- (3.2,0.3);
        \node[anchor=west, font=\scriptsize] at (3.3,0.3) {Financial Transmission};
        
        \draw[->, thick, color=policyresponse] (-2,-.3) -- (-1.2,-.3);
        \node[anchor=west, font=\scriptsize] at (-1.1,-.3) {Policy Impact};
        
        \draw[->, dotted, thick, color=col_crisis] (2,-.3) -- (3.2,-.3);
        \node[anchor=west, font=\scriptsize] at (3.3,-.3) {Geographic Contagion};
    \end{scope}

\end{tikzpicture}

\end{document}
